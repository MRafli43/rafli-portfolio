---
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects - Muhammad Rafli</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
      
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --bg: #0a0a0a;
        --bg-card: #111111;
        --text-primary: #e5e5e5;
        --text-secondary: #999999;
        --border: #2a2a2a;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        background: var(--bg);
        color: var(--text-primary);
        line-height: 1.6;
        padding: 4rem 2rem 6rem 2rem; /* Tambah padding bottom */
      }

      .container {
        max-width: 900px;
        margin: 0 auto;
      }

      .back-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-secondary);
        text-decoration: none;
        font-size: 0.9375rem;
        margin-bottom: 3rem;
        transition: color 0.2s;
      }

      .back-link:hover {
        color: var(--text-primary);
      }

      .back-link svg {
        width: 18px;
        height: 18px;
      }

      h1 {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 3.5rem; /* Lebih besar */
        letter-spacing: -0.02em;
      }

      .projects-grid {
        display: grid;
        gap: 3.5rem; /* Lebih lega! dari 2.5rem */
      }

      .project-card {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 2.25rem; /* Lebih besar dari 2rem */
        transition: all 0.2s;
      }

      .project-card:hover {
        border-color: var(--text-primary);
      }

      .project-card h3 {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.875rem; /* Lebih besar */
        color: var(--text-primary);
      }

      .project-card p {
        font-size: 0.9375rem;
        color: var(--text-secondary);
        margin-bottom: 1.75rem; /* Lebih besar dari 1.5rem */
        line-height: 1.6;
      }

      .card-links {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      .card-link {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        padding: 0.5rem 1rem;
        background: transparent;
        color: var(--text-primary);
        text-decoration: none;
        border-radius: 6px;
        font-weight: 500;
        font-size: 0.875rem;
        transition: all 0.2s;
        border: 1px solid var(--border);
      }

      .card-link:hover {
        background: var(--text-primary);
        color: var(--bg);
        border-color: var(--text-primary);
      }

      .card-link svg {
        width: 16px;
        height: 16px;
      }

      @media (max-width: 768px) {
        body {
          padding: 2rem 1.5rem 4rem 1.5rem;
        }

        h1 {
          font-size: 2rem;
          margin-bottom: 2.5rem;
        }

        .projects-grid {
          gap: 2.5rem;
        }

        .project-card {
          padding: 1.75rem;
        }

        .project-card h3 {
          font-size: 1.125rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <a href="/" class="back-link">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Back
      </a>

      <h1>Projects</h1>

      <div class="projects-grid">
        {projects.map((project) => (
          <div class="project-card">
            <h3>{project.data.title}</h3>
            {project.data.description && <p>{project.data.description}</p>}
            
            <div class="card-links">
              <a href={`/projects/${project.slug}`} class="card-link">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                </svg>
                Read More
              </a>
              
              {project.data.github && (
                <a href={project.data.github} target="_blank" rel="noopener noreferrer" class="card-link">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                  </svg>
                  GitHub
                </a>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  </body>
</html>
